{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport React, { useEffect, useState } from 'react';\nimport { auth } from \"../api_config/firebase\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar CONFIG = require(\"../api_config/config.json\");\n\nvar VoteCardScreen = function VoteCardScreen(_ref) {\n  var route = _ref.route;\n  var user_varified = auth.currentUser.emailVerified;\n\n  var ticker_info = function ticker_info(ticker) {\n    var response, json;\n    return _regeneratorRuntime.async(function ticker_info$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(fetch(CONFIG.base_url + \"api/tickers/\" + ticker));\n\n          case 2:\n            response = _context.sent;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 5:\n            json = _context.sent;\n            return _context.abrupt(\"return\", json);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var voteCard_info = function voteCard_info(ticker) {\n    var response, json;\n    return _regeneratorRuntime.async(function voteCard_info$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(fetch(CONFIG.base_url + \"api/votes/\" + ticker));\n\n          case 2:\n            response = _context2.sent;\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 5:\n            json = _context2.sent;\n            return _context2.abrupt(\"return\", json);\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var vote = function vote(ticker, opinion) {\n    var response, json;\n    return _regeneratorRuntime.async(function vote$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(fetch(CONFIG.base_url + \"/api/votes/\" + ticker + \"/\" + opinion, {\n              method: 'POST',\n              headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                user: auth.currentUser\n              })\n            }));\n\n          case 2:\n            response = _context3.sent;\n            _context3.next = 5;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 5:\n            json = _context3.sent;\n            return _context3.abrupt(\"return\", json);\n\n          case 7:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(Text, {\n      children: [route.params.data.name, \" | \", route.params.data.ticker]\n    }), _jsxs(Text, {\n      children: [\"ETF? \", route.params.data.is_etf ? \"yes\" : \"no\"]\n    }), _jsx(Text, {\n      children: route.params.data.exchange\n    }), _jsxs(View, {\n      style: styles.fixToText,\n      children: [_jsx(Button, {\n        title: user_varified ? ' up! ' : 'Please Validate',\n        onPress: function onPress() {\n          return vote(route.params.data.ticker, 'up');\n        },\n        color: \"#00FF00\",\n        disabled: !user_varified ? true : false\n      }), _jsx(Button, {\n        title: user_varified ? ' down! ' : 'Email',\n        onPress: function onPress() {\n          return vote(route.params.data.ticker, 'down');\n        },\n        color: \"#FF0000\",\n        disabled: !user_varified ? true : false\n      })]\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  fixToText: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  upButton: {\n    width: '50%'\n  },\n  downButton: {\n    width: '50%'\n  }\n});\nexport default VoteCardScreen;","map":{"version":3,"sources":["C:/Users/affan/Desktop/JavaScript/REACT/projects/ticVoter/screens/VoteCardScreen.js"],"names":["React","useEffect","useState","auth","CONFIG","require","VoteCardScreen","route","user_varified","currentUser","emailVerified","ticker_info","ticker","fetch","base_url","response","json","voteCard_info","vote","opinion","method","headers","Accept","body","JSON","stringify","user","styles","container","params","data","name","is_etf","exchange","fixToText","StyleSheet","create","flex","justifyContent","alignItems","flexDirection","upButton","width","downButton"],"mappings":";;;;;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAIA,SAASC,IAAT;;;;AACA,IAAMC,MAAM,GAAGC,OAAO,6BAAtB;;AAMA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,OAAe;AAAA,MAAZC,KAAY,QAAZA,KAAY;AAElC,MAAMC,aAAa,GAAGL,IAAI,CAACM,WAAL,CAAiBC,aAAvC;;AAKA,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAAOC,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACKC,KAAK,CACnBT,MAAM,CAACU,QADY,oBACWF,MADX,CADV;;AAAA;AACZG,YAAAA,QADY;AAAA;AAAA,6CAICA,QAAQ,CAACC,IAAT,EAJD;;AAAA;AAIZA,YAAAA,IAJY;AAAA,6CAKTA,IALS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAApB;;AAQA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAOL,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACGC,KAAK,CACnBT,MAAM,CAACU,QADY,kBACSF,MADT,CADR;;AAAA;AACdG,YAAAA,QADc;AAAA;AAAA,6CAIDA,QAAQ,CAACC,IAAT,EAJC;;AAAA;AAIdA,YAAAA,IAJc;AAAA,8CAKXA,IALW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAWA,MAAME,IAAI,GAAG,SAAPA,IAAO,CAAON,MAAP,EAAeO,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACYN,KAAK,CAAIT,MAAM,CAACU,QAAX,mBAAiCF,MAAjC,SAA2CO,OAA3C,EAAsD;AAC5EC,cAAAA,MAAM,EAAE,MADoE;AAE5EC,cAAAA,OAAO,EAAE;AAAEC,gBAAAA,MAAM,EAAE,kBAAV;AAA8B,gCAAgB;AAA9C,eAFmE;AAG5EC,cAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,gBAAAA,IAAI,EAAEvB,IAAI,CAACM;AAAb,eAAf;AAHsE,aAAtD,CADjB;;AAAA;AACLM,YAAAA,QADK;AAAA;AAAA,6CAOQA,QAAQ,CAACC,IAAT,EAPR;;AAAA;AAOLA,YAAAA,IAPK;AAAA,8CAQFA,IARE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAb;;AAqBA,SACI,MAAC,IAAD;AAAM,IAAA,KAAK,EAAEW,MAAM,CAACC,SAApB;AAAA,eAKI,MAAC,IAAD;AAAA,iBAAOrB,KAAK,CAACsB,MAAN,CAAaC,IAAb,CAAkBC,IAAzB,SAAkCxB,KAAK,CAACsB,MAAN,CAAaC,IAAb,CAAkBlB,MAApD;AAAA,MALJ,EAMI,MAAC,IAAD;AAAA,0BAAYL,KAAK,CAACsB,MAAN,CAAaC,IAAb,CAAkBE,MAAlB,GAA2B,KAA3B,GAAmC,IAA/C;AAAA,MANJ,EAOI,KAAC,IAAD;AAAA,gBAAOzB,KAAK,CAACsB,MAAN,CAAaC,IAAb,CAAkBG;AAAzB,MAPJ,EAaI,MAAC,IAAD;AAAM,MAAA,KAAK,EAAEN,MAAM,CAACO,SAApB;AAAA,iBAGI,KAAC,MAAD;AACI,QAAA,KAAK,EAAE1B,aAAa,GAAG,OAAH,GAAa,iBADrC;AAEI,QAAA,OAAO,EAAE;AAAA,iBAAMU,IAAI,CAACX,KAAK,CAACsB,MAAN,CAAaC,IAAb,CAAkBlB,MAAnB,EAA4B,IAA5B,CAAV;AAAA,SAFb;AAGI,QAAA,KAAK,EAAC,SAHV;AAII,QAAA,QAAQ,EAAE,CAACJ,aAAD,GAAiB,IAAjB,GAAwB;AAJtC,QAHJ,EAWI,KAAC,MAAD;AACI,QAAA,KAAK,EAAEA,aAAa,GAAG,SAAH,GAAe,OADvC;AAEI,QAAA,OAAO,EAAE;AAAA,iBAAMU,IAAI,CAACX,KAAK,CAACsB,MAAN,CAAaC,IAAb,CAAkBlB,MAAnB,EAA4B,MAA5B,CAAV;AAAA,SAFb;AAGI,QAAA,KAAK,EAAC,SAHV;AAII,QAAA,QAAQ,EAAE,CAACJ,aAAD,GAAiB,IAAjB,GAAwB;AAJtC,QAXJ;AAAA,MAbJ;AAAA,IADJ;AA0CH,CAzFD;;AAgGA,IAAMmB,MAAM,GAAGQ,UAAU,CAACC,MAAX,CACX;AACIR,EAAAA,SAAS,EAAE;AACPS,IAAAA,IAAI,EAAE,CADC;AAEPC,IAAAA,cAAc,EAAE,QAFT;AAGPC,IAAAA,UAAU,EAAE;AAHL,GADf;AAMIL,EAAAA,SAAS,EAAE;AACPM,IAAAA,aAAa,EAAE,KADR;AAEPF,IAAAA,cAAc,EAAE;AAFT,GANf;AAUIG,EAAAA,QAAQ,EAAE;AACNC,IAAAA,KAAK,EAAE;AADD,GAVd;AAaIC,EAAAA,UAAU,EAAE;AACRD,IAAAA,KAAK,EAAE;AADC;AAbhB,CADW,CAAf;AA4BA,eAAepC,cAAf","sourcesContent":["import { StyleSheet, Text, View, Button } from 'react-native'\r\nimport React, { useEffect, useState } from 'react'\r\n\r\n\r\n// config\r\nimport { auth } from \"../api_config/firebase\";\r\nconst CONFIG = require(\"../api_config/config.json\")\r\n\r\n\r\n\r\n\r\n\r\nconst VoteCardScreen = ({ route }) => {\r\n\r\n    const user_varified = auth.currentUser.emailVerified\r\n\r\n\r\n\r\n    // DISPLAY_INFO FETCH DATA\r\n    const ticker_info = async (ticker) => {\r\n        let response = await fetch(\r\n            `${CONFIG.base_url}api/tickers/${ticker}`\r\n        );\r\n        let json = await response.json();\r\n        return json;\r\n    }\r\n\r\n    const voteCard_info = async (ticker) => {\r\n        let response = await fetch(\r\n            `${CONFIG.base_url}api/votes/${ticker}`\r\n        );\r\n        let json = await response.json();\r\n        return json;\r\n    }\r\n\r\n\r\n\r\n    // POST VOTES\r\n    const vote = async (ticker, opinion) => {\r\n        let response = await fetch(`${CONFIG.base_url}/api/votes/${ticker}/${opinion}`, {\r\n            method: 'POST',\r\n            headers: { Accept: 'application/json', 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ user: auth.currentUser }),\r\n        });\r\n\r\n        let json = await response.json();\r\n        return json;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n\r\n\r\n\r\n            {/* DISPLAY DATA */}\r\n            <Text>{route.params.data.name} | {route.params.data.ticker}</Text>\r\n            <Text>ETF? {route.params.data.is_etf ? \"yes\" : \"no\"}</Text>\r\n            <Text>{route.params.data.exchange}</Text>\r\n\r\n\r\n\r\n\r\n\r\n            <View style={styles.fixToText}>\r\n\r\n                {/* up */}\r\n                <Button\r\n                    title={user_varified ? ' up! ' : 'Please Validate'}\r\n                    onPress={() => vote(route.params.data.ticker , 'up')  }\r\n                    color=\"#00FF00\"\r\n                    disabled={!user_varified ? true : false}\r\n                />\r\n\r\n                {/* down */}\r\n                <Button\r\n                    title={user_varified ? ' down! ' : 'Email'}\r\n                    onPress={() => vote(route.params.data.ticker , 'down')  }\r\n                    color=\"#FF0000\"\r\n                    disabled={!user_varified ? true : false}\r\n                />\r\n\r\n\r\n\r\n\r\n            </View>\r\n\r\n\r\n\r\n\r\n        </View>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst styles = StyleSheet.create(\r\n    {\r\n        container: {\r\n            flex: 1,\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n        },\r\n        fixToText: {\r\n            flexDirection: 'row',\r\n            justifyContent: 'space-between',\r\n        },\r\n        upButton: {\r\n            width: '50%'\r\n        },\r\n        downButton: {\r\n            width: '50%'\r\n        },\r\n\r\n\r\n\r\n    }\r\n)\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default VoteCardScreen\r\n"]},"metadata":{},"sourceType":"module"}