{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport React, { useEffect, useState } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar SearchBarComponent = function SearchBarComponent() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      all_stocks = _useState4[0],\n      setStocksData = _useState4[1];\n\n  var build_data = function build_data() {\n    fetch('https://dumbstockapi.com/stock?exchanges=NASDAQ').then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      return setStocksData(json);\n    }).catch(function (error) {\n      return console.error(error);\n    });\n  };\n\n  useEffect(function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            build_data();\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, []);\n\n  var searchFilterFunction = function searchFilterFunction(text) {\n    if (text) {\n      var newData = all_stocks.filter(function (item) {\n        var itemData = item.name.toUpperCase().includes(text.toUpperCase()) || item.ticker.toUpperCase().includes(text.toUpperCase()) ? item.ticker : '';\n        var textData = text.toUpperCase();\n        return itemData.indexOf(textData) > -1;\n      });\n      setData(newData);\n      setSearch(text);\n    } else {\n      setSearch(text);\n      set_render_index(0);\n      updateData();\n    }\n  };\n\n  return _jsx(View, {\n    style: styles.search_bar_container,\n    children: _jsx(TextInput, {\n      style: styles.textInputStyle,\n      onChangeText: function onChangeText(text) {\n        return searchFilterFunction(text);\n      },\n      value: search,\n      underlineColorAndroid: \"transparent\",\n      placeholder: \"Search Here\"\n    })\n  });\n};\n\nexport default SearchBarComponent;\nvar styles = StyleSheet.create({\n  stock_button: {\n    textAlign: 'center',\n    fontWeight: 'bold',\n    fontSize: 20,\n    padding: 15,\n    borderBottomColor: '#009688',\n    borderBottomWidth: 2\n  },\n  stock_button_text: {\n    textAlign: 'center',\n    fontWeight: 'bold',\n    fontSize: 20,\n    padding: 15,\n    borderBottomColor: '#009688',\n    borderBottomWidth: 2\n  },\n  itemStyle: {\n    padding: 10\n  },\n  textInputStyle: {\n    height: 50,\n    width: \"100%\",\n    borderWidth: 1,\n    paddingLeft: 20,\n    margin: 50,\n    borderColor: '#009688',\n    backgroundColor: '#FFFFFF'\n  },\n  search_bar_container: {\n    backgroundColor: '#000000',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 25,\n    height: 55\n  }\n});","map":{"version":3,"sources":["C:/Users/affan/Desktop/JavaScript/REACT/projects/ticVoter/components/SearchBarComponent.js"],"names":["React","useEffect","useState","SearchBarComponent","search","setSearch","all_stocks","setStocksData","build_data","fetch","then","response","json","catch","error","console","searchFilterFunction","text","newData","filter","item","itemData","name","toUpperCase","includes","ticker","textData","indexOf","setData","set_render_index","updateData","styles","search_bar_container","textInputStyle","StyleSheet","create","stock_button","textAlign","fontWeight","fontSize","padding","borderBottomColor","borderBottomWidth","stock_button_text","itemStyle","height","width","borderWidth","paddingLeft","margin","borderColor","backgroundColor","alignItems","justifyContent","marginTop"],"mappings":";;;;;;;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;AAGA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAE7B,kBAA4BD,QAAQ,CAAC,EAAD,CAApC;AAAA;AAAA,MAAOE,MAAP;AAAA,MAAeC,SAAf;;AACA,mBAAoCH,QAAQ,CAAC,EAAD,CAA5C;AAAA;AAAA,MAAOI,UAAP;AAAA,MAAmBC,aAAnB;;AACA,MAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACrBC,IAAAA,KAAK,CAAC,iDAAD,CAAL,CACKC,IADL,CACU,UAACC,QAAD;AAAA,aAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,KADV,EAEKF,IAFL,CAEU,UAACE,IAAD;AAAA,aAAUL,aAAa,CAACK,IAAD,CAAvB;AAAA,KAFV,EAGKC,KAHL,CAGW,UAACC,KAAD;AAAA,aAAWC,OAAO,CAACD,KAAR,CAAcA,KAAd,CAAX;AAAA,KAHX;AAIH,GALD;;AASAb,EAAAA,SAAS,CAAC;AAAA;AAAA;AAAA;AAAA;AACNO,YAAAA,UAAU;;AADJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,EAEN,EAFM,CAAT;;AAOA,MAAMQ,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,IAAD,EAAU;AAInC,QAAIA,IAAJ,EAAU;AACN,UAAMC,OAAO,GAAGZ,UAAU,CAACa,MAAX,CAAkB,UAAUC,IAAV,EAAgB;AAI9C,YAAMC,QAAQ,GACVD,IAAI,CAACE,IAAL,CAAUC,WAAV,GAAwBC,QAAxB,CAAiCP,IAAI,CAACM,WAAL,EAAjC,KACIH,IAAI,CAACK,MAAL,CAAYF,WAAZ,GAA0BC,QAA1B,CAAmCP,IAAI,CAACM,WAAL,EAAnC,CADJ,GAEMH,IAAI,CAACK,MAFX,GAGM,EAJV;AAKA,YAAMC,QAAQ,GAAGT,IAAI,CAACM,WAAL,EAAjB;AACA,eAAOF,QAAQ,CAACM,OAAT,CAAiBD,QAAjB,IAA6B,CAAC,CAArC;AACH,OAXe,CAAhB;AAYAE,MAAAA,OAAO,CAACV,OAAD,CAAP;AACAb,MAAAA,SAAS,CAACY,IAAD,CAAT;AACH,KAfD,MAeO;AAEHZ,MAAAA,SAAS,CAACY,IAAD,CAAT;AACAY,MAAAA,gBAAgB,CAAC,CAAD,CAAhB;AACAC,MAAAA,UAAU;AACb;AACJ,GAzBD;;AA4BA,SACI,KAAC,IAAD;AAAM,IAAA,KAAK,EAAEC,MAAM,CAACC,oBAApB;AAAA,cACI,KAAC,SAAD;AACI,MAAA,KAAK,EAAED,MAAM,CAACE,cADlB;AAEI,MAAA,YAAY,EAAE,sBAAChB,IAAD;AAAA,eAAUD,oBAAoB,CAACC,IAAD,CAA9B;AAAA,OAFlB;AAGI,MAAA,KAAK,EAAEb,MAHX;AAII,MAAA,qBAAqB,EAAC,aAJ1B;AAKI,MAAA,WAAW,EAAC;AALhB;AADJ,IADJ;AAYH,CA5DD;;AA6DA,eAAeD,kBAAf;AAIA,IAAM4B,MAAM,GAAGG,UAAU,CAACC,MAAX,CAAkB;AAE7BC,EAAAA,YAAY,EAAE;AACVC,IAAAA,SAAS,EAAE,QADD;AAEVC,IAAAA,UAAU,EAAE,MAFF;AAGVC,IAAAA,QAAQ,EAAE,EAHA;AAIVC,IAAAA,OAAO,EAAE,EAJC;AAKVC,IAAAA,iBAAiB,EAAE,SALT;AAMVC,IAAAA,iBAAiB,EAAE;AANT,GAFe;AAU7BC,EAAAA,iBAAiB,EAAE;AACfN,IAAAA,SAAS,EAAE,QADI;AAEfC,IAAAA,UAAU,EAAE,MAFG;AAGfC,IAAAA,QAAQ,EAAE,EAHK;AAIfC,IAAAA,OAAO,EAAE,EAJM;AAKfC,IAAAA,iBAAiB,EAAE,SALJ;AAMfC,IAAAA,iBAAiB,EAAE;AANJ,GAVU;AAmB7BE,EAAAA,SAAS,EAAE;AACPJ,IAAAA,OAAO,EAAE;AADF,GAnBkB;AAsB7BP,EAAAA,cAAc,EAAE;AACZY,IAAAA,MAAM,EAAE,EADI;AAEZC,IAAAA,KAAK,EAAE,MAFK;AAGZC,IAAAA,WAAW,EAAE,CAHD;AAIZC,IAAAA,WAAW,EAAE,EAJD;AAKZC,IAAAA,MAAM,EAAE,EALI;AAMZC,IAAAA,WAAW,EAAE,SAND;AAOZC,IAAAA,eAAe,EAAE;AAPL,GAtBa;AA+B7BnB,EAAAA,oBAAoB,EAAE;AAClBmB,IAAAA,eAAe,EAAE,SADC;AAElBC,IAAAA,UAAU,EAAE,QAFM;AAGlBC,IAAAA,cAAc,EAAE,QAHE;AAIlBC,IAAAA,SAAS,EAAE,EAJO;AAKlBT,IAAAA,MAAM,EAAE;AALU;AA/BO,CAAlB,CAAf","sourcesContent":["import { StyleSheet, Text, TouchableOpacity, View, TextInput } from 'react-native'\r\nimport React, { useEffect, useState } from 'react'\r\n\r\n\r\nconst SearchBarComponent = () => {\r\n\r\n    const [search, setSearch] = useState('');\r\n    const [all_stocks, setStocksData] = useState([])\r\n    const build_data = () => {\r\n        fetch('https://dumbstockapi.com/stock?exchanges=NASDAQ')\r\n            .then((response) => response.json())\r\n            .then((json) => setStocksData(json))\r\n            .catch((error) => console.error(error))\r\n    }\r\n\r\n\r\n    // HOOK : on page render\r\n    useEffect(async () => {\r\n        build_data()\r\n    }, []);\r\n\r\n\r\n\r\n    // SEARCH BAR\r\n    const searchFilterFunction = (text) => {\r\n        // console.log(all_stocks)\r\n\r\n        // Check if searched text is not blank\r\n        if (text) {\r\n            const newData = all_stocks.filter(function (item) {\r\n                // console.log(item)\r\n\r\n                // Applying filter for the inserted text in search bar\r\n                const itemData =\r\n                    item.name.toUpperCase().includes(text.toUpperCase()) ||\r\n                        item.ticker.toUpperCase().includes(text.toUpperCase())\r\n                        ? item.ticker\r\n                        : ''\r\n                const textData = text.toUpperCase();\r\n                return itemData.indexOf(textData) > -1;\r\n            });\r\n            setData(newData);\r\n            setSearch(text);\r\n        } else {\r\n            // Inserted text is blank\r\n            setSearch(text);\r\n            set_render_index(0)\r\n            updateData()\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <View style={styles.search_bar_container}>\r\n            <TextInput\r\n                style={styles.textInputStyle}\r\n                onChangeText={(text) => searchFilterFunction(text)}\r\n                value={search}\r\n                underlineColorAndroid=\"transparent\"\r\n                placeholder=\"Search Here\"\r\n            />\r\n        </View>\r\n\r\n    )\r\n}\r\nexport default SearchBarComponent\r\n\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n\r\n    stock_button: {\r\n        textAlign: 'center',\r\n        fontWeight: 'bold',\r\n        fontSize: 20,\r\n        padding: 15,\r\n        borderBottomColor: '#009688',\r\n        borderBottomWidth: 2,\r\n    },\r\n    stock_button_text: {\r\n        textAlign: 'center',\r\n        fontWeight: 'bold',\r\n        fontSize: 20,\r\n        padding: 15,\r\n        borderBottomColor: '#009688',\r\n        borderBottomWidth: 2,\r\n    },\r\n\r\n    itemStyle: {\r\n        padding: 10,\r\n    },\r\n    textInputStyle: {\r\n        height: 50,\r\n        width: \"100%\",\r\n        borderWidth: 1,\r\n        paddingLeft: 20,\r\n        margin: 50,\r\n        borderColor: '#009688',\r\n        backgroundColor: '#FFFFFF',\r\n    },\r\n    search_bar_container: {\r\n        backgroundColor: '#000000',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        marginTop: 25,\r\n        height: 55,\r\n    },\r\n\r\n})\r\n"]},"metadata":{},"sourceType":"module"}