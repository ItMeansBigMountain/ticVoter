{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport { useNavigation } from '@react-navigation/core';\nimport { fetch_rendered_data } from \"../api_config/DataServer\";\nimport { auth } from \"../api_config/firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createElement as _createElement } from \"react\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SCREEN_HEIGHT = Dimensions.get('window').height;\nvar SCREEN_WIDTH = Dimensions.get('window').width;\n\nvar CONFIG = require(\"../api_config/config.json\");\n\nvar quantity_rendered = CONFIG.qty_rendered;\nvar Content = [{\n  id: \"1\",\n  uri: require(\"../assets/genius_1.jpg\")\n}, {\n  id: \"2\",\n  uri: require(\"../assets/genius_2.png\")\n}, {\n  id: \"3\",\n  uri: require(\"../assets/genius_3.jpg\")\n}, {\n  id: \"4\",\n  uri: require(\"../assets/genius_4.png\")\n}, {\n  id: \"5\",\n  uri: require(\"../assets/genius_5.jpg\")\n}, {\n  id: \"6\",\n  uri: require(\"../assets/genius_7.jpg\")\n}, {\n  id: \"7\",\n  uri: require(\"../assets/genius_8.jpg\")\n}, {\n  id: \"8\",\n  uri: require(\"../assets/genius_9.jpg\")\n}, {\n  id: \"9\",\n  uri: require(\"../assets/genius_10.jpg\")\n}, {\n  id: \"10\",\n  uri: require(\"../assets/genius_11.jpg\")\n}];\n\nvar SwipeCardStack = function (_React$Component) {\n  _inherits(SwipeCardStack, _React$Component);\n\n  var _super = _createSuper(SwipeCardStack);\n\n  function SwipeCardStack() {\n    var _this;\n\n    _classCallCheck(this, SwipeCardStack);\n\n    _this = _super.call(this);\n\n    _this.renderContent = function () {\n      return Content.map(function (item, i) {\n        if (i < _this.state.currentIndex) {\n          return null;\n        } else if (i == _this.state.currentIndex) {\n          return _createElement(Animated.View, _objectSpread(_objectSpread({}, _this.PanResponder.panHandlers), {}, {\n            key: item.id,\n            style: [_this.rotateAndTranslate, {\n              height: SCREEN_HEIGHT - 120,\n              width: SCREEN_WIDTH,\n              padding: 10,\n              position: 'absolute'\n            }]\n          }), _jsx(Animated.View, {\n            style: {\n              opacity: _this.likeOpacity,\n              transform: [{\n                rotate: '-30deg'\n              }],\n              position: 'absolute',\n              top: 50,\n              left: 40,\n              zIndex: 1000\n            },\n            children: _jsx(Text, {\n              style: {\n                borderWidth: 1,\n                borderColor: 'green',\n                color: 'green',\n                fontSize: 32,\n                fontWeight: '800',\n                padding: 10\n              },\n              children: \"LIKE\"\n            })\n          }), _jsx(Animated.View, {\n            style: {\n              opacity: _this.dislikeOpacity,\n              transform: [{\n                rotate: '30deg'\n              }],\n              position: 'absolute',\n              top: 50,\n              right: 40,\n              zIndex: 1000\n            },\n            children: _jsx(Text, {\n              style: {\n                borderWidth: 1,\n                borderColor: 'red',\n                color: 'red',\n                fontSize: 32,\n                fontWeight: '800',\n                padding: 10\n              },\n              children: \"NOPE\"\n            })\n          }), _jsx(Image, {\n            style: {\n              flex: 1,\n              height: null,\n              width: null,\n              resizeMode: 'cover',\n              borderRadius: 20\n            },\n            source: item.uri\n          }));\n        } else {\n          return _jsxs(Animated.View, {\n            style: [{\n              opacity: _this.nextCardOpacity,\n              transform: [{\n                scale: _this.nextCardScale\n              }],\n              height: SCREEN_HEIGHT - 120,\n              width: SCREEN_WIDTH,\n              padding: 10,\n              position: 'absolute'\n            }],\n            children: [_jsx(Animated.View, {\n              style: {\n                opacity: 0,\n                transform: [{\n                  rotate: '-30deg'\n                }],\n                position: 'absolute',\n                top: 50,\n                left: 40,\n                zIndex: 1000\n              },\n              children: _jsx(Text, {\n                style: {\n                  borderWidth: 1,\n                  borderColor: 'green',\n                  color: 'green',\n                  fontSize: 32,\n                  fontWeight: '800',\n                  padding: 10\n                },\n                children: \"LIKE\"\n              })\n            }), _jsx(Animated.View, {\n              style: {\n                opacity: 0,\n                transform: [{\n                  rotate: '30deg'\n                }],\n                position: 'absolute',\n                top: 50,\n                right: 40,\n                zIndex: 1000\n              },\n              children: _jsx(Text, {\n                style: {\n                  borderWidth: 1,\n                  borderColor: 'red',\n                  color: 'red',\n                  fontSize: 32,\n                  fontWeight: '800',\n                  padding: 10\n                },\n                children: \"NOPE\"\n              })\n            }), _jsx(Image, {\n              style: {\n                flex: 1,\n                height: null,\n                width: null,\n                resizeMode: 'cover',\n                borderRadius: 20\n              },\n              source: item.uri\n            })]\n          }, item.id);\n        }\n      }).reverse();\n    };\n\n    useEffect(function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              updateData();\n              build_data();\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }, []);\n    _this.position = new Animated.ValueXY();\n    _this.state = {\n      currentIndex: 0,\n      data: [],\n      render_index: 0,\n      loadingMore: false,\n      search: \"\",\n      all_stocks: []\n    };\n    _this.rotate = _this.position.x.interpolate({\n      inputRange: [-SCREEN_WIDTH / 2, 0, SCREEN_WIDTH / 2],\n      outputRange: ['-30deg', '0deg', '10deg'],\n      extrapolate: 'clamp'\n    });\n    _this.rotateAndTranslate = {\n      transform: [{\n        rotate: _this.rotate\n      }].concat(_toConsumableArray(_this.position.getTranslateTransform()))\n    };\n    _this.likeOpacity = _this.position.x.interpolate({\n      inputRange: [-SCREEN_WIDTH / 2, 0, SCREEN_WIDTH / 2],\n      outputRange: [0, 0, 1],\n      extrapolate: 'clamp'\n    });\n    _this.dislikeOpacity = _this.position.x.interpolate({\n      inputRange: [-SCREEN_WIDTH / 2, 0, SCREEN_WIDTH / 2],\n      outputRange: [1, 0, 0],\n      extrapolate: 'clamp'\n    });\n    _this.nextCardOpacity = _this.position.x.interpolate({\n      inputRange: [-SCREEN_WIDTH / 2, 0, SCREEN_WIDTH / 2],\n      outputRange: [1, 0, 1],\n      extrapolate: 'clamp'\n    });\n    _this.nextCardScale = _this.position.x.interpolate({\n      inputRange: [-SCREEN_WIDTH / 2, 0, SCREEN_WIDTH / 2],\n      outputRange: [1, 0.8, 1],\n      extrapolate: 'clamp'\n    });\n    return _this;\n  }\n\n  _createClass(SwipeCardStack, [{\n    key: \"UNSAFE_componentWillMount\",\n    value: function UNSAFE_componentWillMount() {\n      var _this2 = this;\n\n      this.PanResponder = PanResponder.create({\n        onStartShouldSetPanResponder: function onStartShouldSetPanResponder(evt, gestureState) {\n          return true;\n        },\n        onPanResponderMove: function onPanResponderMove(evt, gestureState) {\n          _this2.position.setValue({\n            x: gestureState.dx,\n            y: gestureState.dy\n          });\n        },\n        onPanResponderRelease: function onPanResponderRelease(evt, gestureState) {\n          if (gestureState.dx > 120) {\n            Animated.spring(_this2.position, {\n              toValue: {\n                x: SCREEN_WIDTH + 100,\n                y: gestureState.dy\n              }\n            }).start(function () {\n              _this2.setState({\n                currentIndex: _this2.state.currentIndex + 1\n              }, function () {\n                _this2.position.setValue({\n                  x: 0,\n                  y: 0\n                });\n              });\n            });\n          } else if (gestureState.dx < -120) {\n            Animated.spring(_this2.position, {\n              toValue: {\n                x: -SCREEN_WIDTH - 100,\n                y: gestureState.dy\n              }\n            }).start(function () {\n              _this2.setState({\n                currentIndex: _this2.state.currentIndex + 1\n              }, function () {\n                _this2.position.setValue({\n                  x: 0,\n                  y: 0\n                });\n              });\n            });\n          } else {\n            Animated.spring(_this2.position, {\n              toValue: {\n                x: 0,\n                y: 0\n              },\n              friction: 4\n            }).start();\n          }\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _jsxs(View, {\n        style: {\n          flex: 1\n        },\n        children: [_jsx(View, {\n          style: {\n            height: 60\n          }\n        }), _jsx(View, {\n          style: {\n            flex: 1\n          },\n          children: this.renderContent()\n        }), _jsx(View, {\n          style: {\n            height: 60\n          }\n        })]\n      });\n    }\n  }]);\n\n  return SwipeCardStack;\n}(React.Component);\n\nexport { SwipeCardStack as default };","map":{"version":3,"sources":["C:/Users/affan/Desktop/JavaScript/REACT/projects/ticVoter/components/SwipeCardStack.js"],"names":["React","useEffect","useState","useNavigation","fetch_rendered_data","auth","SCREEN_HEIGHT","Dimensions","get","height","SCREEN_WIDTH","width","CONFIG","require","quantity_rendered","qty_rendered","Content","id","uri","SwipeCardStack","renderContent","map","item","i","state","currentIndex","PanResponder","panHandlers","rotateAndTranslate","padding","position","opacity","likeOpacity","transform","rotate","top","left","zIndex","borderWidth","borderColor","color","fontSize","fontWeight","dislikeOpacity","right","flex","resizeMode","borderRadius","nextCardOpacity","scale","nextCardScale","reverse","updateData","build_data","Animated","ValueXY","data","render_index","loadingMore","search","all_stocks","x","interpolate","inputRange","outputRange","extrapolate","getTranslateTransform","create","onStartShouldSetPanResponder","evt","gestureState","onPanResponderMove","setValue","dx","y","dy","onPanResponderRelease","spring","toValue","start","setState","friction","Component"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { StyleSheet, Text, View, Dimensions, Image, Animated, PanResponder } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/core';\r\n\r\nimport { fetch_rendered_data } from '../api_config/DataServer';\r\n\r\nimport { auth } from \"../api_config/firebase\";\r\n\r\n\r\n\r\n\r\nconst SCREEN_HEIGHT = Dimensions.get('window').height\r\nconst SCREEN_WIDTH = Dimensions.get('window').width\r\nconst CONFIG = require(\"../api_config/config.json\")\r\nconst quantity_rendered = CONFIG.qty_rendered\r\n\r\n\r\n\r\nconst Content = [\r\n  { id: \"1\", uri: require('../assets/genius_1.jpg') },\r\n  { id: \"2\", uri: require('../assets/genius_2.png') },\r\n  { id: \"3\", uri: require('../assets/genius_3.jpg') },\r\n  { id: \"4\", uri: require('../assets/genius_4.png') },\r\n  { id: \"5\", uri: require('../assets/genius_5.jpg') },\r\n  { id: \"6\", uri: require('../assets/genius_7.jpg') },\r\n  { id: \"7\", uri: require('../assets/genius_8.jpg') },\r\n  { id: \"8\", uri: require('../assets/genius_9.jpg') },\r\n  { id: \"9\", uri: require('../assets/genius_10.jpg') },\r\n  { id: \"10\", uri: require('../assets/genius_11.jpg') },\r\n]\r\n\r\n\r\n\r\n\r\n\r\nexport default class SwipeCardStack extends React.Component {\r\n\r\n  constructor() {\r\n    super()\r\n\r\n\r\n    // HOOK : on page render\r\n    useEffect(async () => {\r\n      // RENDER DATA\r\n      updateData()\r\n      build_data()\r\n\r\n      // // VOTE CARD\r\n      // ticker_info(item.data.ticker)\r\n      // voteCard_info(item.data.ticker)\r\n  }, []);\r\n\r\n    \r\n\r\n    this.position = new Animated.ValueXY()\r\n    this.state = {\r\n      currentIndex: 0,\r\n      data: [],\r\n      render_index: 0,\r\n      loadingMore: false,\r\n      search: \"\",\r\n      all_stocks: [],\r\n    }\r\n\r\n    this.rotate = this.position.x.interpolate({\r\n      inputRange: [-SCREEN_WIDTH / 2, 0, SCREEN_WIDTH / 2],\r\n      outputRange: ['-30deg', '0deg', '10deg'],\r\n      extrapolate: 'clamp'\r\n    })\r\n\r\n    this.rotateAndTranslate = {\r\n      transform: [{\r\n        rotate: this.rotate\r\n      },\r\n      ...this.position.getTranslateTransform()\r\n      ]\r\n    }\r\n\r\n    this.likeOpacity = this.position.x.interpolate({\r\n      inputRange: [-SCREEN_WIDTH / 2, 0, SCREEN_WIDTH / 2],\r\n      outputRange: [0, 0, 1],\r\n      extrapolate: 'clamp'\r\n    })\r\n    this.dislikeOpacity = this.position.x.interpolate({\r\n      inputRange: [-SCREEN_WIDTH / 2, 0, SCREEN_WIDTH / 2],\r\n      outputRange: [1, 0, 0],\r\n      extrapolate: 'clamp'\r\n    })\r\n\r\n    this.nextCardOpacity = this.position.x.interpolate({\r\n      inputRange: [-SCREEN_WIDTH / 2, 0, SCREEN_WIDTH / 2],\r\n      outputRange: [1, 0, 1],\r\n      extrapolate: 'clamp'\r\n    })\r\n    this.nextCardScale = this.position.x.interpolate({\r\n      inputRange: [-SCREEN_WIDTH / 2, 0, SCREEN_WIDTH / 2],\r\n      outputRange: [1, 0.8, 1],\r\n      extrapolate: 'clamp'\r\n    })\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  UNSAFE_componentWillMount() {\r\n    this.PanResponder = PanResponder.create({\r\n\r\n      onStartShouldSetPanResponder: (evt, gestureState) => true,\r\n      onPanResponderMove: (evt, gestureState) => {\r\n\r\n        this.position.setValue({ x: gestureState.dx, y: gestureState.dy })\r\n      },\r\n      onPanResponderRelease: (evt, gestureState) => {\r\n\r\n        if (gestureState.dx > 120) {\r\n          Animated.spring(this.position, {\r\n            toValue: { x: SCREEN_WIDTH + 100, y: gestureState.dy }\r\n          }).start(() => {\r\n            this.setState({ currentIndex: this.state.currentIndex + 1 }, () => {\r\n              this.position.setValue({ x: 0, y: 0 })\r\n            })\r\n          })\r\n        }\r\n        else if (gestureState.dx < -120) {\r\n          Animated.spring(this.position, {\r\n            toValue: { x: -SCREEN_WIDTH - 100, y: gestureState.dy }\r\n          }).start(() => {\r\n            this.setState({ currentIndex: this.state.currentIndex + 1 }, () => {\r\n              this.position.setValue({ x: 0, y: 0 })\r\n            })\r\n          })\r\n        }\r\n        else {\r\n          Animated.spring(this.position, {\r\n            toValue: { x: 0, y: 0 },\r\n            friction: 4\r\n          }).start()\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  renderContent = () => {\r\n\r\n    return Content.map((item, i) => {\r\n\r\n\r\n      if (i < this.state.currentIndex) {\r\n        return null\r\n      }\r\n      else if (i == this.state.currentIndex) {\r\n\r\n        return (\r\n          <Animated.View\r\n            {...this.PanResponder.panHandlers}\r\n            key={item.id} style={[this.rotateAndTranslate, { height: SCREEN_HEIGHT - 120, width: SCREEN_WIDTH, padding: 10, position: 'absolute' }]}>\r\n            <Animated.View style={{ opacity: this.likeOpacity, transform: [{ rotate: '-30deg' }], position: 'absolute', top: 50, left: 40, zIndex: 1000 }}>\r\n              <Text style={{ borderWidth: 1, borderColor: 'green', color: 'green', fontSize: 32, fontWeight: '800', padding: 10 }}>LIKE</Text>\r\n\r\n            </Animated.View>\r\n\r\n            <Animated.View style={{ opacity: this.dislikeOpacity, transform: [{ rotate: '30deg' }], position: 'absolute', top: 50, right: 40, zIndex: 1000 }}>\r\n              <Text style={{ borderWidth: 1, borderColor: 'red', color: 'red', fontSize: 32, fontWeight: '800', padding: 10 }}>NOPE</Text>\r\n\r\n            </Animated.View>\r\n\r\n            <Image\r\n              style={{ flex: 1, height: null, width: null, resizeMode: 'cover', borderRadius: 20 }}\r\n              source={item.uri} />\r\n\r\n          </Animated.View>\r\n        )\r\n      }\r\n      else {\r\n        return (\r\n          <Animated.View\r\n\r\n            key={item.id} style={[{\r\n              opacity: this.nextCardOpacity,\r\n              transform: [{ scale: this.nextCardScale }],\r\n              height: SCREEN_HEIGHT - 120, width: SCREEN_WIDTH, padding: 10, position: 'absolute'\r\n            }]}>\r\n            <Animated.View style={{ opacity: 0, transform: [{ rotate: '-30deg' }], position: 'absolute', top: 50, left: 40, zIndex: 1000 }}>\r\n              <Text style={{ borderWidth: 1, borderColor: 'green', color: 'green', fontSize: 32, fontWeight: '800', padding: 10 }}>LIKE</Text>\r\n\r\n            </Animated.View>\r\n\r\n            <Animated.View style={{ opacity: 0, transform: [{ rotate: '30deg' }], position: 'absolute', top: 50, right: 40, zIndex: 1000 }}>\r\n              <Text style={{ borderWidth: 1, borderColor: 'red', color: 'red', fontSize: 32, fontWeight: '800', padding: 10 }}>NOPE</Text>\r\n\r\n            </Animated.View>\r\n\r\n            <Image\r\n              style={{ flex: 1, height: null, width: null, resizeMode: 'cover', borderRadius: 20 }}\r\n              source={item.uri} />\r\n\r\n          </Animated.View>\r\n        )\r\n      }\r\n    }).reverse()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        <View style={{ height: 60 }}>\r\n\r\n        </View>\r\n        <View style={{ flex: 1 }}>\r\n          {this.renderContent()}\r\n        </View>\r\n        <View style={{ height: 60 }}>\r\n\r\n        </View>\r\n\r\n\r\n      </View>\r\n\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}